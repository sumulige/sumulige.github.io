<!DOCTYPE html><html lang="[&quot;zh-CN&quot;,&quot;zh-TW&quot;,&quot;en-ES&quot;,&quot;default&quot;]"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content=""><meta content="VkkPA6KdUHamvOpzQVXOE7kqrhb3aVZP2LeD6mB0arA" name="google-site-verification"><title>java学习笔记-网络编程（八） | sumulige</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/normalize/8.0.1/normalize.min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/1.0.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/1.0.0/grids-responsive-min.css"><link rel="stylesheet" href="//lib.baomitu.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//lib.baomitu.com/jquery/3.4.0/jquery.min.js"></script><script data-ad-client="ca-pub-9143006519047392" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><link rel="icon" mask="" sizes="any" href="/favicon.ico"><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml"><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = 'https://hm.baidu.com/hm.js?' + '941d91ba1b7a1ffe06553e17a8d5f174';
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
  })();</script><meta name="generator" content="Hexo 4.2.0"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">java学习笔记-网络编程（八）</h1><a id="logo" href="/.">sumulige</a><p class="description"></p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> 首页</i></a><a href="/photography/"><i class="fa fa-photo"> photography</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/atom.xml"><i class="fa fa-rss"> 订阅</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">java学习笔记-网络编程（八）</h1><div class="post-meta">Mar 6, 2020<script src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script><span id="busuanzi_container_page_pv"> | <span id="busuanzi_value_page_pv"></span><span> 阅读</span></span></div><a class="disqus-comment-count" href="/2020/03/06/java%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%EF%BC%88%E5%85%AB%EF%BC%89/#vcomment"><span class="valine-comment-count" data-xid="/2020/03/06/java%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%EF%BC%88%E5%85%AB%EF%BC%89/"></span><span> 条评论</span></a><div class="post-content"><p>标签：学习各种网络协议的桥梁</p>
<hr>
<h2 id="什么是计算机网络"><a href="#什么是计算机网络" class="headerlink" title="什么是计算机网络"></a>什么是计算机网络</h2><ul>
<li><p>计算机网络的作用：资源共享和信息传递。</p>
</li>
<li><p>计算机网络的组成：</p>
<p>  a) 计算机硬件：计算机(大中小型服务器，台式机、笔记本等)、外部设备(路由器、交换机等)、通信线路(双绞线、光纤等)。</p>
<p>   b) 计算机软件：网络操作系统(Windows 2000 Server/Advance Server、Unix、Linux等)、网络管理软件(WorkWin、SugarNMS等)、网络通信协议(如TCP/IP协议栈等)。</p>
</li>
<li><p>计算机网络的多台计算机是具有独立功能的，而不是脱离网络就无法存在的。</p>
</li>
</ul>
<h2 id="什么是网络通信协议"><a href="#什么是网络通信协议" class="headerlink" title="什么是网络通信协议?"></a>什么是网络通信协议?</h2><ul>
<li><p>通过计算机网络可以实现不同计算机之间的连接与通信，但是计算机网络中实现通信必须有一些约定即通信协议，对速率、传输代码、代码结构、传输控制步骤、出错控制等制定标准。就像两个人想要顺利沟通就必须使用同一种语言一样，如果一个人只懂英语而另外一个人只懂中文，这样就会造成没有共同语言而无法沟通。</p>
</li>
<li><p>国际标准化组织(ISO，即International Organization for Standardization)定义了网络通信协议的基本框架，被称为OSI(Open System Interconnect，即开放系统互联)模型。要制定通讯规则，内容会很多，比如要考虑A电脑如何找到B电脑，A电脑在发送信息给B电脑时是否需要B电脑进行反馈，A电脑传送给B电脑的数据格式又是怎样的?内容太多太杂，所以OSI模型将这些通讯标准进行层次划分，每一层次解决一个类别的问题，这样就使得标准的制定没那么复杂。OSI模型制定的七层标准模型，分别是：应用层，表示层，会话层，传输层，网络层，数据链路层，物理层。</p>
</li>
<li><p>OSI七层协议模型如图12-1所示：<br><img src="https://sumulige-1257145452.cos.ap-beijing.myqcloud.com/MWeb/2020/03/06/15834275891545.jpg" alt=""></p>
</li>
<li><p>虽然国际标准化组织制定了这样一个网络通信协议的模型，但是实际上互联网通讯使用最多的网络通信协议是TCP/IP网络通信协议。</p>
</li>
<li><p>TCP/IP 是一个协议族，也是按照层次划分，共四层：应用层，传输层，互连网络层，网络接口层(物理+数据链路层)。</p>
</li>
<li><p>那么TCP/IP协议和OSI模型有什么区别呢?OSI网络通信协议模型，是一个参考模型，而TCP/IP协议是事实上的标准。TCP/IP协议参考了OSI 模型，但是并没有严格按照OSI规定的七层标准去划分，而只划分了四层，这样会更简单点，当划分太多层次时，你很难区分某个协议是属于哪个层次的。TCP/IP协议和OSI模型也并不冲突，TCP/IP协议中的应用层协议，就对应于OSI中的应用层，表示层，会话层。就像以前有工业部和信息产业部，现在实行大部制后只有工业和信息化部一个部门，但是这个部门还是要做以前两个部门一样多的事情，本质上没有多大的差别。TCP/IP中有两个重要的协议，传输层的TCP协议和互连网络层的IP协议，因此就拿这两个协议做代表，来命名整个协议族了，再说TCP/IP协议时，是指整个协议族。</p>
</li>
</ul>
<p>3、网络协议的分层<br> 由于网络结点之间联系很复杂，在制定协议时，把复杂成份分解成一些简单的成份，再将它们复合起来。最常用的复合方式是层次方式，即同层间可以通信、上一层可以调用下一层，而与再下一层不发生关系。</p>
<p>把用户应用程序作为最高层，把物理通信线路作为最低层，将其间的协议处理分为若干层，规定每层处理的任务，也规定每层的接口标准。</p>
<p>ISO模型与TCP/IP模型的对应关系如图12-2所示。<br><img src="https://sumulige-1257145452.cos.ap-beijing.myqcloud.com/MWeb/2020/03/06/15834276249790.jpg" alt=""></p>
<h2 id="数据封装与解封"><a href="#数据封装与解封" class="headerlink" title="数据封装与解封"></a>数据封装与解封</h2><ul>
<li><p>由于用户传输的数据一般都比较大，有的可以达到MB字节，一次性发送出去十分困难，于是就需要把数据分成许多片段，再按照一定的次序发送出去。这个过程就需要对数据进行封装。</p>
</li>
<li><p>数据封装(Data Encapsulation)是指将协议数据单元(PDU)封装在一组协议头和协议尾中的过程。在OSI七层参考模型中，每层主要负责与其它机器上的对等层进行通信。该过程是在协议数据单元(PDU)中实现的，其中每层的PDU一般由本层的协议头、协议尾和数据封装构成。</p>
</li>
</ul>
<p>1.数据发送处理过程</p>
<p>  (1). 应用层将数据交给传输层，传输层添加上TCP的控制信息(称为TCP头部)，这个数据单元称为段(Segment)，加入控制信息的过程称为封装。然后，将段交给网络层。</p>
<p>  (2). 网络层接收到段，再添加上IP头部，这个数据单元称为包(Packet)。然后，将包交给数据链路层。</p>
<p>  (3). 数据链路层接收到包，再添加上MAC头部和尾部，这个数据单元称为帧(Frame)。然后，将帧交给物理层。</p>
<p>  (4). 物理层将接收到的数据转化为比特流，然后在网线中传送。</p>
<p>2.数据接收处理过程</p>
<p> (1). 物理层接收到比特流，经过处理后将数据交给数据链路层。</p>
<p> (2).数据链路层将接收到的数据转化为数据帧，再除去MAC头部和尾部，这个除去控制信息的过程称为解封，然后将包交给网络层。</p>
<p> (3). 网络层接收到包，再除去IP头部，然后将段交给传输层。</p>
<p> (4). 传输层接收到段，再除去TCP头部，然后将数据交给应用层。</p>
<p>从以上传输过程中，可以总结出以下规则：</p>
<p><strong>(1)发送方数据处理的方式是从高层到底层，逐层进行数据封装。</strong><br><strong>(2)接收方数据处理的方式是从底层到高层，逐层进行数据解封装。</strong></p>
<ul>
<li><p>接收方的每一层只把对该层有意义的数据拿走，或者说每一层只能处理发送方同等层的数据，然后把其余的部分传递给上一层，这就是对等层通信的概念。</p>
</li>
<li><p>数据封装与解封如图12-3和图12-4所示：</p>
</li>
</ul>
<p><img src="https://sumulige-1257145452.cos.ap-beijing.myqcloud.com/MWeb/2020/03/06/15834276356416.jpg" alt=""><br>![IMAGE](resources/37FFD7E71400C447445B917E6BEDDA67.jpg =597x337)</p>
<p><img src="https://sumulige-1257145452.cos.ap-beijing.myqcloud.com/MWeb/2020/03/06/15834276429229.jpg" alt=""><br>![IMAGE](resources/4019FBA2E1345124776090871A55741E.jpg =597x321)</p>
<h2 id="IP地址："><a href="#IP地址：" class="headerlink" title="IP地址："></a>IP地址：</h2><ul>
<li><p>用来标识网络中的一个通信实体的地址。通信实体可以是计算机、路由器等。 比如互联网的每个服务器都要有自己的IP地址，而每个局域网的计算机要通信也要配置IP地址。路由器是连接两个或多个网络的网络设备。</p>
</li>
<li><p>目前主流使用的IP地址是IPV4，但是随着网络规模的不断扩大，IPV4面临着枯竭的危险，所以推出了IPV6。</p>
</li>
<li><p>IPV4：32位地址，并以8位为一个单位，分成四部分，以点分十进制表示，如192.168.0.1。因为8位二进制的计数范围是00000000—11111111，对应十进制的0-255，所以-4.278.4.1是错误的IPV4地址。</p>
</li>
<li><p>IPV6：128位(16个字节)写成8个16位的无符号整数，每个整数用四个十六进制位表示，每个数之间用冒号(：)分开，如：<br>3ffe:3201:1401:1280:c8ff:fe4d:db39:1984</p>
</li>
</ul>
<h2 id="端口"><a href="#端口" class="headerlink" title="端口"></a>端口</h2><ul>
<li><p>IP地址用来标识一台计算机，但是一台计算机上可能提供多种网络应用程序，如何来区分这些不同的程序呢?这就要用到端口。</p>
</li>
<li><p>端口是虚拟的概念，并不是说在主机上真的有若干个端口。通过端口，可以在一个主机上运行多个网络应用程序。 端口的表示是一个16位的二进制整数，对应十进制的0-65535。</p>
</li>
<li><p>Oracle、MySQL、Tomcat、QQ、msn、迅雷、电驴、360等网络程序都有自己的端口。</p>
</li>
</ul>
<p>总结:</p>
<ol>
<li><p>IP地址好比每个人的地址(门牌号)，端口好比是房间号。必须同时指定IP地址和端口号才能够正确的发送数据。</p>
</li>
<li><p>IP地址好比为电话号码，而端口号就好比为分机号。</p>
</li>
</ol>
<h2 id="URL"><a href="#URL" class="headerlink" title="URL"></a>URL</h2><ul>
<li><p>在www上，每一信息资源都有统一且唯一的地址，该地址就叫URL(Uniform Resource Locator)，它是www的统一资源定位符。URL由4部分组成：协议 、存放资源的主机域名、资源文件名和端口号。如果未指定该端口号，则使用协议默认的端口。例如http 协议的默认端口为 80。 在浏览器中访问网页时，地址栏显示的地址就是URL。</p>
</li>
<li><p>在java.net包中提供了URL类，该类封装了大量复杂的涉及从远程站点获取信息的细节。</p>
</li>
</ul>
<h2 id="socket"><a href="#socket" class="headerlink" title="socket"></a>socket</h2><ul>
<li><p>我们开发的网络应用程序位于应用层，TCP和UDP属于传输层协议，在应用层如何使用传输层的服务呢?在应用层和传输层之间，则是使用套接Socket来进行分离。</p>
</li>
<li><p>套接字就像是传输层为应用层开的一个小口，应用程序通过这个小口向远程发送数据，或者接收远程发来的数据;而这个小口以内，也就是数据进入这个口之后，或者数据从这个口出来之前，是不知道也不需要知道的，也不会关心它如何传输，这属于网络其它层次工作。</p>
</li>
<li><p>Socket实际是传输层供给应用层的编程接口。Socket就是应用层与传输层之间的桥梁。使用Socket编程可以开发客户机和服务器应用程序，可以在本地网络上进行通信，也可通过Internet在全球范围内通信。<br><img src="https://sumulige-1257145452.cos.ap-beijing.myqcloud.com/MWeb/2020/03/06/15834276567842.jpg" alt=""><br>![IMAGE](resources/839E3920EF6819066074F4E53842DDA2.jpg =378x299)</p>
</li>
</ul>
<h2 id="TCP协议和UDP协议的联系和区别"><a href="#TCP协议和UDP协议的联系和区别" class="headerlink" title="TCP协议和UDP协议的联系和区别"></a>TCP协议和UDP协议的联系和区别</h2><ul>
<li><p>TCP协议和UDP协议是传输层的两种协议。Socket是传输层供给应用层的编程接口，所以Socket编程就分为TCP编程和UDP编程两类。</p>
</li>
<li><p>在网络通讯中，TCP方式就类似于拨打电话，使用该种方式进行网络通讯时，需要建立专门的虚拟连接，然后进行可靠的数据传输，如果数据发送失败，则客户端会自动重发该数据。而UDP方式就类似于发送短信，使用这种方式进行网络通讯时，不需要建立专门的虚拟连接，传输也不是很可靠，如果发送失败则客户端无法获得。</p>
</li>
<li><p>这两种传输方式都在实际的网络编程中使用，重要的数据一般使用TCP方式进行数据传输，而大量的非核心数据则可以通过UDP方式进行传递，在一些程序中甚至结合使用这两种方式进行数据传递。</p>
</li>
<li><p>由于TCP需要建立专用的虚拟连接以及确认传输是否正确，所以使用TCP方式的速度稍微慢一些，而且传输时产生的数据量要比UDP稍微大一些。</p>
</li>
</ul>
<p>总结</p>
<ol>
<li><p>TCP是面向连接的，传输数据安全，稳定，效率相对较低。</p>
</li>
<li><p>UDP是面向无连接的，传输数据不安全，效率较高。</p>
</li>
</ol>
<h2 id="Tcp协议"><a href="#Tcp协议" class="headerlink" title="Tcp协议"></a>Tcp协议</h2><p>TCP(Transfer Control Protocol)是面向连接的，所谓面向连接，就是当计算机双方通信时必需经过先建立连接，然后传送数据，最后拆除连接三个过程。</p>
<p>TCP在建立连接时又分三步走：</p>
<ul>
<li><p>第一步，是请求端(客户端)发送一个包含SYN即同步(Synchronize)标志的TCP报文，SYN同步报文会指明客户端使用的端口以及TCP连接的初始序号。</p>
</li>
<li><p>第二步，服务器在收到客户端的SYN报文后，将返回一个SYN+ACK的报文，表示客户端的请求被接受，同时TCP序号被加一，ACK即确认(Acknowledgement)。</p>
</li>
<li><p>第三步，客户端也返回一个确认报文ACK给服务器端，同样TCP序列号被加一，到此一个TCP连接完成。然后才开始通信的第二步：数据处理。</p>
</li>
</ul>
<p>这就是所说的TCP的三次握手(Three-way Handshake)。</p>
<h2 id="UDP协议"><a href="#UDP协议" class="headerlink" title="UDP协议"></a>UDP协议</h2><p>基于TCP协议可以建立稳定连接的点对点的通信。这种通信方式实时、快速、安全性高，但是很占用系统的资源。</p>
<p><strong>在网络传输方式上，还有另一种基于UDP协议的通信方式，称为数据报通信方式。在这种方式中，每个数据发送单元被统一封装成数据报包的方式，发送方将数据报包发送到网络中，数据报包在网络中去寻找它的目的地。</strong></p>
<h2 id="Java网络编程"><a href="#Java网络编程" class="headerlink" title="Java网络编程"></a>Java网络编程</h2><p>Java为了可移植性，不允许直接调用操作系统，而是由java.net包来提供网络功能。Java虚拟机负责提供与操作系统的实际连接。下面我们来介绍几个java.net包中的常用的类。</p>
<h2 id="InetAddress"><a href="#InetAddress" class="headerlink" title="InetAddress"></a>InetAddress</h2><p>作用：封装计算机的IP地址和DNS(没有端口信息)。</p>
<blockquote>
<p>注：DNS是Domain Name System，域名系统。</p>
</blockquote>
<ul>
<li>特点：这个类没有构造方法。如果要得到对象，只能通过静态方法：getLocalHost()、getByName()、 getAllByName()、 getAddress()、getHostName()。</li>
</ul>
<h2 id="InetSocketAddress"><a href="#InetSocketAddress" class="headerlink" title="InetSocketAddress"></a>InetSocketAddress</h2><p>作用：包含IP和端口信息，常用于Socket通信。此类实现 IP 套接字地址(IP 地址 + 端口号)，不依赖任何协议。</p>
<h2 id="URL-1"><a href="#URL-1" class="headerlink" title="URL"></a>URL</h2><ul>
<li><p>IP地址唯一标识了Internet上的计算机，而URL则标识了这些计算机上的资源。类 URL 代表一个统一资源定位符，它是指向互联网“资源”的指针。资源可以是简单的文件或目录，也可以是对更为复杂的对象的引用，例如对数据库或搜索引擎的查询。</p>
</li>
<li><p>为了方便程序员编程，JDK中提供了URL类，该类的全名是java.net.URL，有了这样一个类，就可以使用它的各种方法来对URL对象进行分割、合并等处理。</p>
</li>
</ul>
<h2 id="基于TCP协议的Socket编程和通信"><a href="#基于TCP协议的Socket编程和通信" class="headerlink" title="基于TCP协议的Socket编程和通信"></a>基于TCP协议的Socket编程和通信</h2><ul>
<li>在网络通讯中，第一次主动发起通讯的程序被称作客户端(Client)程序，简称客户端，而在第一次通讯中等待连接的程序被称作服务器端(Server)程序，简称服务器。一旦通讯建立，则客户端和服务器端完全一样，没有本质的区别。</li>
</ul>
<p>“请求-响应”模式：</p>
<ol>
<li><p>Socket类：发送TCP消息。</p>
</li>
<li><p>ServerSocket类：创建服务器。</p>
</li>
<li><p>套接字是一种进程间的数据交换机制。这些进程既可以在同一机器上，也可以在通过网络连接的不同机器上。换句话说，套接字起到通信端点的作用。单个套接字是一个端点，而一对套接字则构成一个双向通信信道，使非关联进程可以在本地或通过网络进行数据交换。一旦建立套接字连接，数据即可在相同或不同的系统中双向或单向发送，直到其中一个端点关闭连接。套接字与主机地址和端口地址相关联。主机地址就是客户端或服务器程序所在的主机的IP地址。端口地址是指客户端或服务器程序使用的主机的通信端口。</p>
</li>
</ol>
<ul>
<li><p>在客户端和服务器中，分别创建独立的Socket，并通过Socket的属性，将两个Socket进行连接，这样，客户端和服务器通过套接字所建立的连接使用输入输出流进行通信。</p>
</li>
<li><p>TCP/IP套接字是最可靠的双向流协议，使用TCP/IP可以发送任意数量的数据。</p>
</li>
<li><p>实际上，套接字只是计算机上已编号的端口。如果发送方和接收方计算机确定好端口，他们就可以通信了。</p>
</li>
<li><p>如图12-6所示为客户端与服务器端的通信关系图：<br><img src="https://sumulige-1257145452.cos.ap-beijing.myqcloud.com/MWeb/2020/03/06/15834276781065.jpg" alt=""></p>
</li>
</ul>
<p>TCP/IP通信连接的简单过程：</p>
<ul>
<li><p>位于A计算机上的TCP/IP软件向B计算机发送包含端口号的消息，B计算机的TCP/IP软件接收该消息，并进行检查，查看是否有它知道的程序正在该端口上接收消息。如果有，他就将该消息交给这个程序。</p>
</li>
<li><p>要使程序有效地运行，就必须有一个客户端和一个服务器。<br>通过Socket的编程顺序：</p>
</li>
</ul>
<ol>
<li><p>创建服务器ServerSocket，在创建时，定义ServerSocket的监听端口(在这个端口接收客户端发来的消息)。</p>
</li>
<li><p>ServerSocket调用accept()方法，使之处于阻塞状态。</p>
</li>
<li><p>创建客户端Socket，并设置服务器的IP及端口。</p>
</li>
<li><p>客户端发出连接请求，建立连接。</p>
</li>
<li><p>分别取得服务器和客户端Socket的InputStream和OutputStream。</p>
</li>
<li><p>利用Socket和ServerSocket进行数据传输。</p>
</li>
<li><p>关闭流及Socket。</p>
</li>
</ol>
<p>TCP：单向通信Socket之服务器端</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.BufferedWriter;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.OutputStreamWriter;</span><br><span class="line"><span class="keyword">import</span> java.net.ServerSocket;</span><br><span class="line"><span class="keyword">import</span> java.net.Socket;</span><br><span class="line"> </span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 最简单的服务器端代码</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> Administrator</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BasicSocketServer</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Socket socket = <span class="keyword">null</span>;</span><br><span class="line">        BufferedWriter bw = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">// 建立服务器端套接字：指定监听的接口</span></span><br><span class="line">            ServerSocket serverSocket = <span class="keyword">new</span> ServerSocket(<span class="number">8888</span>);</span><br><span class="line">            System.out.println(<span class="string">"服务端建立监听"</span>);</span><br><span class="line">            <span class="comment">// 监听，等待客户端请求，并愿意接收连接</span></span><br><span class="line">            socket = serverSocket.accept();</span><br><span class="line">            <span class="comment">// 获取socket的输出流，并使用缓冲流进行包装</span></span><br><span class="line">            bw = <span class="keyword">new</span> BufferedWriter(<span class="keyword">new</span>     </span><br><span class="line">                                    OutputStreamWriter(socket.getOutputStream()));</span><br><span class="line">            <span class="comment">// 向客户端发送反馈信息</span></span><br><span class="line">            bw.write(<span class="string">"hhhh"</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="comment">// 关闭流及socket连接</span></span><br><span class="line">            <span class="keyword">if</span> (bw != <span class="keyword">null</span>) &#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    bw.close();</span><br><span class="line">                &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (socket != <span class="keyword">null</span>) &#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    socket.close();</span><br><span class="line">                &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>TCP：单向通信Socket之客户端</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.BufferedReader;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStreamReader;</span><br><span class="line"><span class="keyword">import</span> java.net.InetAddress;</span><br><span class="line"><span class="keyword">import</span> java.net.Socket;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 最简单的Socket客户端</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> Administrator</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BasicSocketClient</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Socket socket = <span class="keyword">null</span>;</span><br><span class="line">        BufferedReader br = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">/*</span></span><br><span class="line"><span class="comment">             * 创建Scoket对象：指定要连接的服务器的IP和端口而不是自己机器的</span></span><br><span class="line"><span class="comment">             * 端口。发送端口是随机的。</span></span><br><span class="line"><span class="comment">             */</span></span><br><span class="line">            socket = <span class="keyword">new</span> Socket(InetAddress.getLocalHost(), <span class="number">8888</span>);</span><br><span class="line">            <span class="comment">//获取scoket的输入流，并使用缓冲流进行包装</span></span><br><span class="line">            br = <span class="keyword">new</span> BufferedReader(<span class="keyword">new</span>  </span><br><span class="line">                                   InputStreamReader(socket.getInputStream()));</span><br><span class="line">            <span class="comment">//接收服务器端发送的信息</span></span><br><span class="line">            System.out.println(br.readLine());</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="comment">// 关闭流及socket连接</span></span><br><span class="line">            <span class="keyword">if</span> (br != <span class="keyword">null</span>) &#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    br.close();</span><br><span class="line">                &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (socket != <span class="keyword">null</span>) &#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    socket.close();</span><br><span class="line">                &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>TCP：双向通信Socket之服务器端</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.BufferedReader;</span><br><span class="line"><span class="keyword">import</span> java.io.BufferedWriter;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStreamReader;</span><br><span class="line"><span class="keyword">import</span> java.io.OutputStreamWriter;</span><br><span class="line"><span class="keyword">import</span> java.net.ServerSocket;</span><br><span class="line"><span class="keyword">import</span> java.net.Socket;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Server</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">        Socket socket = <span class="keyword">null</span>;</span><br><span class="line">        BufferedReader in = <span class="keyword">null</span>;</span><br><span class="line">        BufferedWriter out = <span class="keyword">null</span>;</span><br><span class="line">        BufferedReader br = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">//创建服务器端套接字：指定监听端口</span></span><br><span class="line">            ServerSocket server = <span class="keyword">new</span> ServerSocket(<span class="number">8888</span>);</span><br><span class="line">            <span class="comment">//监听客户端的连接</span></span><br><span class="line">            socket = server.accept();</span><br><span class="line">            <span class="comment">//获取socket的输入输出流接收和发送信息</span></span><br><span class="line">            in = <span class="keyword">new</span> BufferedReader(<span class="keyword">new</span> InputStreamReader(socket.getInputStream()));</span><br><span class="line">            out = <span class="keyword">new</span> BufferedWriter(<span class="keyword">new</span> </span><br><span class="line">                                   OutputStreamWriter(socket.getOutputStream()));</span><br><span class="line">            br = <span class="keyword">new</span> BufferedReader(<span class="keyword">new</span> InputStreamReader(System.in));</span><br><span class="line">            <span class="keyword">while</span> (<span class="keyword">true</span>) &#123;</span><br><span class="line">                <span class="comment">//接收客户端发送的信息</span></span><br><span class="line">                String str = in.readLine();</span><br><span class="line">                System.out.println(<span class="string">"客户端说："</span> + str);</span><br><span class="line">                String str2 = <span class="string">""</span>;</span><br><span class="line">                <span class="comment">//如果客户端发送的是“end”则终止连接 </span></span><br><span class="line">                <span class="keyword">if</span> (str.equals(<span class="string">"end"</span>))&#123;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">//否则，发送反馈信息</span></span><br><span class="line">                str2 = br.readLine(); <span class="comment">// 读到\n为止，因此一定要输入换行符！</span></span><br><span class="line">                out.write(str2 + <span class="string">"\n"</span>);</span><br><span class="line">                out.flush();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="comment">//关闭资源</span></span><br><span class="line">            <span class="keyword">if</span>(in != <span class="keyword">null</span>)&#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    in.close();</span><br><span class="line">                &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(out != <span class="keyword">null</span>)&#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    out.close();</span><br><span class="line">                &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(br != <span class="keyword">null</span>)&#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    br.close();</span><br><span class="line">                &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(socket != <span class="keyword">null</span>)&#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    socket.close();</span><br><span class="line">                &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>TCP：双向通信Socket之客户端</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.BufferedReader;</span><br><span class="line"><span class="keyword">import</span> java.io.BufferedWriter;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStreamReader;</span><br><span class="line"><span class="keyword">import</span> java.io.OutputStreamWriter;</span><br><span class="line"><span class="keyword">import</span> java.net.InetAddress;</span><br><span class="line"><span class="keyword">import</span> java.net.Socket;</span><br><span class="line"><span class="keyword">import</span> java.net.UnknownHostException;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Client</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Socket socket = <span class="keyword">null</span>;</span><br><span class="line">        BufferedReader in = <span class="keyword">null</span>;</span><br><span class="line">        BufferedWriter out = <span class="keyword">null</span>;</span><br><span class="line">        BufferedReader wt = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">//创建Socket对象，指定服务器端的IP与端口</span></span><br><span class="line">            socket = <span class="keyword">new</span> Socket(InetAddress.getLocalHost(), <span class="number">8888</span>);</span><br><span class="line">            <span class="comment">//获取scoket的输入输出流接收和发送信息</span></span><br><span class="line">            in = <span class="keyword">new</span> BufferedReader(<span class="keyword">new</span> InputStreamReader(socket.getInputStream()));</span><br><span class="line">            out = <span class="keyword">new</span> BufferedWriter(<span class="keyword">new</span> </span><br><span class="line">                                   OutputStreamWriter(socket.getOutputStream()));</span><br><span class="line">            wt = <span class="keyword">new</span> BufferedReader(<span class="keyword">new</span> InputStreamReader(System.in));</span><br><span class="line">            <span class="keyword">while</span> (<span class="keyword">true</span>) &#123;</span><br><span class="line">                <span class="comment">//发送信息</span></span><br><span class="line">                String str = wt.readLine();</span><br><span class="line">                out.write(str + <span class="string">"\n"</span>);</span><br><span class="line">                out.flush();</span><br><span class="line">                <span class="comment">//如果输入的信息为“end”则终止连接</span></span><br><span class="line">                <span class="keyword">if</span> (str.equals(<span class="string">"end"</span>)) &#123;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">//否则，接收并输出服务器端信息</span></span><br><span class="line">                System.out.println(<span class="string">"服务器端说："</span> + in.readLine());</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (UnknownHostException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="comment">// 关闭资源</span></span><br><span class="line">            <span class="keyword">if</span> (out != <span class="keyword">null</span>) &#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    out.close();</span><br><span class="line">                &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (in != <span class="keyword">null</span>) &#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    in.close();</span><br><span class="line">                &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (wt != <span class="keyword">null</span>) &#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    wt.close();</span><br><span class="line">                &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (socket != <span class="keyword">null</span>) &#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    socket.close();</span><br><span class="line">                &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="UDP通讯的实现"><a href="#UDP通讯的实现" class="headerlink" title="UDP通讯的实现"></a>UDP通讯的实现</h2><ul>
<li><p>DatagramSocket：用于发送或接收数据报包<br>当服务器要向客户端发送数据时，需要在服务器端产生一个DatagramSocket对象，在客户端产生一个DatagramSocket对象。服务器端的DatagramSocket将DatagramPacket发送到网络上，然后被客户端的DatagramSocket接收。</p>
</li>
<li><p>DatagramSocket有两种常用的构造函数。一种是无需任何参数的，常用于客户端;另一种需要指定端口，常用于服务器端。如下所示：</p>
</li>
<li><p>DatagramSocket() ：构造数据报套接字并将其绑定到本地主机上任何可用的端口。</p>
</li>
<li><p>DatagramSocket(int port) ：创建数据报套接字并将其绑定到本地主机上的指定端口。<br>常用方法：</p>
</li>
<li><p>send(DatagramPacket p) ：从此套接字发送数据报包。</p>
</li>
</ul>
<p>Ø receive(DatagramPacket p) ：从此套接字接收数据报包。</p>
<p>Ø close() ：关闭此数据报套接字。</p>
<p>▪ DatagramPacket：数据容器(封包)的作用<br> 此类表示数据报包。 数据报包用来实现封包的功能。<br>常用方法：</p>
<p>  Ø DatagramPacket(byte[] buf, int length) ：构造数据报包，用来接收长度为 length 的数据包。</p>
<p>  Ø DatagramPacket(byte[] buf, int length, InetAddress address, int port) ：构造数据报包，用来将长度为 length 的包发送到指定主机上的指定端口号。</p>
<p>  Ø getAddress() ：获取发送或接收方计算机的IP地址，此数据报将要发往该机器或者是从该机器接收到的。</p>
<p>  Ø getData() ：获取发送或接收的数据。</p>
<p>  Ø setData(byte[] buf) ：设置发送的数据。</p>
<p>UDP通信编程基本步骤：</p>
<p>1.创建客户端的DatagramSocket，创建时，定义客户端的监听端口。</p>
<ol start="2">
<li><p>创建服务器端的DatagramSocket，创建时，定义服务器端的监听端口。</p>
</li>
<li><p>在服务器端定义DatagramPacket对象，封装待发送的数据包。</p>
</li>
<li><p>客户端将数据报包发送出去。</p>
</li>
<li><p>服务器端接收数据报包。</p>
</li>
</ol>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><ol>
<li><p>端口是虚拟的概念，并不是说在主机上真的有若干个端口。</p>
</li>
<li><p>在www上，每一信息资源都有统一且唯一的地址，该地址就叫URL(Uniform Resource Locator)，它是www的统一资源定位符。</p>
</li>
<li><p>TCP与UDP的区别</p>
<p>   1）TCP是面向连接的，传输数据安全，稳定，效率相对较低。</p>
<p>   2）UDP是面向无连接的，传输数据不安全，效率较高。</p>
</li>
<li><p>Socket通信是一种基于TCP协议，建立稳定连接的点对点的通信。</p>
</li>
<li><p>网络编程是由java.net包来提供网络功能。</p>
<p>   1）InetAddress：封装计算机的IP地址和DNS(没有端口信息!)。</p>
<p>   2）InetSocketAddress：包含IP和端口，常用于Socket通信。</p>
<p>   3）URL：以使用它的各种方法来对URL对象进行分割、合并等处理。</p>
</li>
<li><p>基于TCP协议的Socket编程和通信</p>
<p>   1）“请求-响应”模式：</p>
<p>   –Socket类：发送TCP消息。</p>
<p>   –ServerSocket类：创建服务器。</p>
</li>
<li><p>UDP通讯的实现</p>
<p>   1）DatagramSocket：用于发送或接收数据报包。</p>
<p>   2）常用方法：send()、receive()、 close()。</p>
</li>
<li><p>DatagramPacket：数据容器(封包)的作用</p>
<p>   1）常用方法：构造方法、getAddrress(获取发送或接收方计算机的IP地址)、getData(获取发送或接收的数据)、setData(设置发送的数据)。</p>
</li>
</ol>
</div><script type="text/javascript" src="/js/share.js?v=0.0.0" async></script><a class="article-share-link" data-url="http://www.sumulige.com/2020/03/06/java%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%EF%BC%88%E5%85%AB%EF%BC%89/" data-id="ck7vzq32a000lzstl3tvzcxzp" data-qrcode="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASYAAAEmCAAAAADqr2IGAAAEjElEQVR42u3aQXLbQAwEQP//0841qUTyDECluFLz5FIl5LJ5wGIWX1/x9b24fr/D3/d89JRHa3j+7/Nfvl5xYcKECROmWzK1L5m//KPXTu6fvNjz35P/lbw7JkyYMGF6D6b2dklxzXFz6OcrSV54+AEwYcKECdMHM+WL22w78hd+yVYDEyZMmDB9AFOSf14btl4b+2LChAkTpk9mSm6XbBHy+LXdcFzF9/IsHBMmTJgw3Ywpn1p5v79fMt+ECRMmTJhuw/S9vtpRnlnBTrYg7VBO8Y6YMGHChOlYps1B4KYFbUPe2RNnH/vhCjFhwoQJ0+FM+RHgBmIW7+a/b5r2H+JdTJgwYcJ0ONP+Ja8NkfODxvYodHgciwkTJkyYDmTaL27TjuZrmLXfG+h/ZOGYMGHChOlApjxabYvoVYed+61GFODOnosJEyZMmA5halvKtjzPjks369kMGD3cCmDChAkTpmOZ2jIcJcdBYZ6FtrONRc2Rp9GYMGHChOn2TK8u4e3H+D/DPfUwECZMmDBhOpzpqgfkB5+bLch+PKg9dsWECRMmTO/ElJfwGUFbmJNNRv6B2xElTJgwYcJ0LlNemHP1pBHNm9W25d6Hv3U2gAkTJkyYbs+UDOK0LWXbZObbhfz+V40iYcKECROm05mKLrl8mbZh3jTA7dak+MCYMGHChOlwpras5otrg9cZYl7+EyBMmDBhwvROTPvxl/bxs21Hy7Ef+rkACxMmTJgw3Yxp34LmBPmzZk3y7Oh0NcSDCRMmTJhuz9TGuLP2Nee4bP9yaTyNCRMmTJjOYtocK27GYvZFur2SdQ7nmzBhwoQJ0+2ZZgU4f9isPc6D181wT31CiwkTJkyYjmJKbpeEvO2ITAvarnYT2v5wkIkJEyZMmA5n2hTXNlfOx32SD7YZAIq2RJgwYcKE6VimPLrNC20eECcbiH18vDnUxIQJEyZM5zK1C8rbyzY+npXq9jPkbTwmTJgwYXoPprbkz5aVFOC2bc6flYBG98GECRMmTAcytYW/LcbXHl5uBn3aASNMmDBhwvQeTPtjv/zxbfPZlvB2zZuAGBMmTJgwncKUj8LMxmVmDep+JGi28iLexYQJEyZMhzC1B415Ec0/wL41nR2C1nE2JkyYMGE6lumqtrMNdmfFPtk05KNI7YARJkyYMGE6iykp23nIm3yTNjieDRXlnzDaxGDChAkTpsOZ8sLZIr4ibM1HiNrD1IdPwYQJEyZMb8E0C09n5XY21tO2vvvm/I/BHUyYMGHCdCDTZsgm3wTkuBuU2e/DYSZMmDBhwnQI0z4qzQ8p24PSZAuS/500+T9MNmHChAkTpgOZ8mvzem0E3P49a4n3YTQmTJgwYTqFqR2XyRvmWdh6LUdb+Ie7J0yYMGHCdHumdignb1Pb4Hg2ppMfWLYBNyZMmDBh+hymvJS2Qzmz177q40WNMSZMmDBh+gCmfdg6K+d50NxuBV7e+mLChAkTptsw5SHvLMxNguO2MW6PWleHppgwYcKE6VimfCn5ItrSnrfEeejc4rZ3wIQJEyZMt2f6BSAdWKnGygS1AAAAAElFTkSuQmCC">分享</a><div class="tags"><a href="/tags/java%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">java学习笔记</a></div><div class="post-nav"><a class="pre" href="/2020/03/06/java%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-%E6%B3%9B%E5%9E%8B%EF%BC%88%E4%B9%9D%EF%BC%89/">java学习笔记-泛型（九）</a><a class="next" href="/2020/03/06/java%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-%E9%9B%86%E5%90%88%EF%BC%88%E4%BA%94%EF%BC%89/">java学习笔记-集合（五）</a></div><div id="vcomment"></div><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine@latest/dist/Valine.min.js"></script><script>var notify = 'true' ? true : false;
var verify = 'true' ? true : false;
var GUEST_INFO = ['nick','mail','link'];
var guest_info = 'nick,mail,link'.split(',').filter(function(item){
  return GUEST_INFO.indexOf(item) > -1
});
guest_info = guest_info.length == 0 ? GUEST_INFO :guest_info;
window.valine = new Valine({
  el:'#vcomment',
  notify:notify,
  verify:verify,
  appId:'ivpEhNzW7MXaOpXrMfU90jjq-gzGzoHsz',
  appKey:'65olvYK78WGdFMmAWd49Bo5A',
  placeholder:'Just so so',
  avatar:'mm',
  guest_info:guest_info,
  pageSize:'10'
})</script></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><div class="search-form"><input id="local-search-input" placeholder="Search" type="text" name="q" results="0"/><div id="local-search-result"></div></div></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/hazel/" style="font-size: 15px;">hazel</a> <a href="/tags/java%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" style="font-size: 15px;">java学习笔记</a> <a href="/tags/java%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98%E5%8F%8A%E7%AD%94%E6%A1%88/" style="font-size: 15px;">java常见面试题及答案</a> <a href="/tags/vue%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" style="font-size: 15px;">vue学习笔记</a> <a href="/tags/%E6%97%A5%E5%B8%B8%E6%8E%A8%E8%8D%90/" style="font-size: 15px;">日常推荐</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最近文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2020/03/16/%E4%BC%98%E7%A7%80%E5%8D%9A%E5%AE%A2%E6%8E%A8%E8%8D%90%EF%BC%8C%E6%8C%81%E7%BB%AD%E6%9B%B4%E6%96%B0%E3%80%82/">优秀的博客推荐</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/03/06/hazel%E8%83%BD%E4%B8%BA%E6%88%91%E4%BB%AC%E5%81%9A%E4%BB%80%E4%B9%88/">hazel能为我们做什么</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/03/06/java%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-IO%EF%BC%88%E5%85%AD%EF%BC%89/">java学习笔记-IO（六）</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/03/06/java%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-%E4%BA%8C%E5%8F%89%E6%A0%91%E3%80%81%E5%B9%B3%E8%A1%A1%E4%BA%8C%E5%8F%89%E6%A0%91(AVL)%E3%80%81%E7%BA%A2%E9%BB%91%E4%BA%8C%E5%8F%89%E6%A0%91%EF%BC%88%E5%8D%81%EF%BC%89/">java学习笔记-二叉树、平衡二叉树(AVL)、红黑二叉树（十）</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/03/06/java%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-%E5%86%99%E5%9C%A8%E5%89%8D%E9%9D%A2%EF%BC%88%E4%BA%8C%EF%BC%89/">java学习笔记-写在前面（二）</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/03/06/java%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-%E5%A4%9A%E7%BA%BF%E7%A8%8B%EF%BC%88%E5%8D%81%E4%B8%80%EF%BC%89/">java学习笔记-多线程（十一）</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/03/06/java%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-%E5%B8%B8%E7%94%A8%E7%B1%BB%EF%BC%88%E5%9B%9B%EF%BC%89/">java学习笔记-常用类（四）</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/03/06/java%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-%E6%95%B0%E7%BB%84%EF%BC%88%E4%B8%89%EF%BC%89/">java学习笔记-数组（三）</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/03/06/java%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-%E5%9F%BA%E7%A1%80%E7%AE%97%E6%B3%95%EF%BC%88%E4%B8%83%EF%BC%89/">java学习笔记-基础算法（七）</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/03/06/java%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-%E6%B3%9B%E5%9E%8B%EF%BC%88%E4%B9%9D%EF%BC%89/">java学习笔记-泛型（九）</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div><ul></ul><a href="http://www.example1.com/" title="site-name1" target="_blank">site-name1</a><ul></ul><a href="http://www.example2.com/" title="site-name2" target="_blank">site-name2</a><ul></ul><a href="http://www.example3.com/" title="site-name3" target="_blank">site-name3</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2020 <a href="/." rel="nofollow">sumulige.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css"><script type="text/javascript" src="/js/search.js?v=0.0.0"></script><script>var search_path = 'search.xml';
if (search_path.length == 0) {
   search_path = 'search.xml';
}
var path = '/' + search_path;
searchFunc(path, 'local-search-input', 'local-search-result');
</script><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>